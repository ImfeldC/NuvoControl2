<?xml version="1.0" encoding="utf-8" ?>
<configuration>

  <!-- Setting for common logger 
       NOTE: These two blocks need to be before or at the start of this file.
             Otherwise an exepction occurs at startup ???  -->
  <configSections>
    <sectionGroup name="common">
      <section name="logging" type="Common.Logging.ConfigurationSectionHandler, Common.Logging" />
    </sectionGroup>
    <sectionGroup name="applicationSettings" type="System.Configuration.ApplicationSettingsGroup, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" >
      <section name="NuvoControl.Server.WcfHostConsole.Properties.Settings" type="System.Configuration.ClientSettingsSection, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
    </sectionGroup>
  </configSections>

  <common>
    <logging>
      <factoryAdapter type="Common.Logging.Simple.TraceLoggerFactoryAdapter, Common.Logging">
        <arg key="level" value="ALL" />
        <arg key="showDateTime" value="false" />
        <arg key="showLogName" value="true" />
      </factoryAdapter>
      <!--
      <factoryAdapter type="Common.Logging.Simple.ConsoleOutLoggerFactoryAdapter, Common.Logging">
        <arg key="level" value="TRACE" />
      </factoryAdapter>
      -->
    </logging>
  </common>

  <system.serviceModel>
        <bindings>
              <wsDualHttpBinding>
                    <binding name="WSDualHttpBinding_IMonitorAndControl" closeTimeout="00:01:00"
                          openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
                          bypassProxyOnLocal="false" transactionFlow="false" hostNameComparisonMode="StrongWildcard"
                          maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
                          messageEncoding="Text" textEncoding="utf-8" useDefaultWebProxy="true">
                          <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
                                maxBytesPerRead="4096" maxNameTableCharCount="16384" />
                          <reliableSession ordered="true" inactivityTimeout="00:10:00" />
                          <security mode="None">
                                <message clientCredentialType="Windows" negotiateServiceCredential="true" />
                          </security>
                    </binding>
              </wsDualHttpBinding>
              <wsHttpBinding>
                    <binding name="WSHttpBinding_IConfigure" closeTimeout="00:01:00"
                          openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
                          bypassProxyOnLocal="false" transactionFlow="false" hostNameComparisonMode="StrongWildcard"
                          maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
                          messageEncoding="Text" textEncoding="utf-8" useDefaultWebProxy="true"
                          allowCookies="false">
                          <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
                                maxBytesPerRead="4096" maxNameTableCharCount="16384" />
                          <reliableSession ordered="true" inactivityTimeout="00:10:00"
                                enabled="true" />
                          <security mode="None">
                                <transport clientCredentialType="Windows" proxyCredentialType="None"
                                      realm="" />
                                <message clientCredentialType="Windows" negotiateServiceCredential="true"
                                      establishSecurityContext="true" />
                          </security>
                    </binding>
              </wsHttpBinding>
        </bindings>
        <client>
              <endpoint address="http://localhost:8080/ConfigurationService"
                    binding="wsHttpBinding" bindingConfiguration="WSHttpBinding_IConfigure"
                    contract="ConfigurationServiceReference.IConfigure" name="WSHttpBinding_IConfigure" />
              <endpoint address="http://localhost:8080/MonitorAndControlService"
                    binding="wsDualHttpBinding" bindingConfiguration="WSDualHttpBinding_IMonitorAndControl"
                    contract="MonitorAndControlServiceReference.IMonitorAndControl"
                    name="WSDualHttpBinding_IMonitorAndControl" />
        </client>
    </system.serviceModel>
</configuration>